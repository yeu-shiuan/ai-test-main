<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ—¥æœ¬æ±åŒ—è‡ªé§•8æ—¥éŠ - ç¾ä»£ç°¡ç´„è¡Œç¨‹è¡¨</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --primary-color: #4a90e2;
            /* ç¾ä»£è— */
            --secondary-color: #f5f7fa;
            /* æ·ºç°èƒŒæ™¯ */
            --text-dark: #333333;
            --text-light: #7f8c8d;
            --accent-green: #2ecc71;
            --accent-orange: #e67e22;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --radius: 12px;
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: var(--secondary-color);
            color: var(--text-dark);
            margin: 0;
            padding-bottom: 80px;
            /* é ç•™åº•éƒ¨å·¥å…·ç©ºé–“ */
        }

        /* Header & Nav */
        header {
            background: white;
            padding: 20px;
            text-align: center;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        h1 {
            margin: 0;
            font-size: 1.5rem;
            font-weight: 500;
        }

        .date-nav {
            display: flex;
            overflow-x: auto;
            white-space: nowrap;
            gap: 10px;
            padding: 15px 0 5px;
            -webkit-overflow-scrolling: touch;
        }

        .date-tab {
            background: transparent;
            border: none;
            padding: 8px 16px;
            font-size: 0.9rem;
            color: var(--text-light);
            cursor: pointer;
            border-radius: 20px;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .date-tab.active {
            background: var(--primary-color);
            color: white;
            font-weight: 500;
        }

        /* Main Content */
        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 0 15px;
        }

        .day-content {
            display: none;
            animation: fadeIn 0.4s ease;
        }

        .day-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Timeline Styling */
        .timeline {
            position: relative;
            padding: 20px 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 20px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #e0e0e0;
        }

        .event-card,
        .transport-card {
            position: relative;
            margin-left: 40px;
            background: white;
            padding: 15px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            margin-bottom: 20px;
        }

        .event-card::before {
            content: '';
            position: absolute;
            left: -26px;
            top: 20px;
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: var(--primary-color);
            border: 3px solid white;
        }

        .transport-card {
            background: #fcfcfc;
            border: 1px dashed #d0d0d0;
            color: var(--text-light);
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .transport-card::before {
            content: 'ğŸš—';
            position: absolute;
            left: -30px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.2rem;
            background: var(--secondary-color);
            z-index: 2;
        }

        .transport-card.cable::before {
            content: 'ğŸš ';
        }

        .event-title {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .event-details {
            font-size: 0.9rem;
            color: var(--text-light);
            line-height: 1.6;
        }

        .highlight-tag {
            display: inline-block;
            background: #eef2f7;
            color: var(--primary-color);
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            margin-right: 5px;
            margin-bottom: 5px;
        }

        .cost-tag {
            color: var(--accent-orange);
            font-weight: 500;
        }

        .time-tag {
            color: var(--accent-green);
            font-weight: 500;
        }

        /* Floating Tools Menu */
        .fab-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 200;
            display: flex;
            flex-direction: column-reverse;
            gap: 10px;
            align-items: center;
        }

        .fab-main {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--primary-color);
            color: white;
            border: none;
            font-size: 24px;
            box-shadow: 0 4px 15px rgba(74, 144, 226, 0.4);
            cursor: pointer;
            transition: transform 0.3s;
        }

        .fab-main:hover {
            transform: scale(1.05);
        }

        .fab-main.active {
            transform: rotate(45deg);
        }

        .fab-item {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: none;
            background: white;
            color: var(--text-dark);
            font-size: 20px;
            box-shadow: var(--shadow);
            cursor: pointer;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s;
            pointer-events: none;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .fab-container.open .fab-item {
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto;
        }

        .fab-label {
            position: absolute;
            right: 60px;
            background: white;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 0.8rem;
            box-shadow: var(--shadow);
            opacity: 0;
            transition: opacity 0.3s;
            white-space: nowrap;
        }

        .fab-container.open .fab-item:hover .fab-label {
            opacity: 1;
        }


        /* Modals */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 300;
            padding: 20px;
        }

        .modal-content {
            background: white;
            padding: 25px;
            border-radius: var(--radius);
            width: 100%;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 1.2rem;
            font-weight: 700;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Tool Specific Styles */
        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-sizing: border-box;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            font-size: 1rem;
        }

        .result-box {
            background: #f0f4f8;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            margin-top: 15px;
            font-size: 1.2rem;
        }

        .phrase-list {
            list-style: none;
            padding: 0;
        }

        .phrase-list li {
            padding: 10px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
        }

        .phrase-jp {
            color: var(--primary-color);
            font-weight: 500;
        }

        .expense-list {
            max-height: 200px;
            overflow-y: auto;
            margin-bottom: 15px;
        }

        .expense-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px dashed #eee;
            font-size: 0.9rem;
        }

        .total-expense {
            font-weight: 700;
            text-align: right;
            margin-top: 10px;
        }

        .map-frame {
            width: 100%;
            height: 300px;
            border: none;
            border-radius: var(--radius);
        }
    </style>
</head>

<body>

    <header>
        <h1>ğŸ‡¯ğŸ‡µ æ—¥æœ¬æ±åŒ—8æ—¥è‡ªé§•éŠ</h1>
        <nav class="date-nav" id="dateNav">
        </nav>
    </header>

    <main class="container" id="itineraryContainer">
        <div class="day-content active" id="day1">
            <div class="timeline">
                <div class="event-card">
                    <div class="event-title">æŠµé”ä»™å°</div>
                    <div class="event-details">ä¸‹åˆç­æ©ŸæŠµé”ä»™å°æ©Ÿå ´ã€‚è¾¦ç†å…¥å¢ƒæ‰‹çºŒã€å–è»Šã€‚</div>
                </div>
                <div class="event-card">
                    <div class="event-title">ä»™å°å¸‚å€ Check-in</div>
                    <div class="event-details">å…¥ä½é£¯åº—ï¼Œæ™šé¤å¯æ–¼å¸‚å€å“åšè‘—åçš„ä»™å°ç‰›èˆŒã€‚</div>
                </div>
            </div>
        </div>

        <div class="day-content" id="day2">
            <div class="timeline">
                <div class="event-card">
                    <div class="event-title">ä»™å°å¸‚å€å‡ºç™¼</div>
                </div>
                <div class="transport-card">
                    <span class="time-tag">56min</span> | <span class="cost-tag">ETC Â¥1,060</span>
                </div>
                <div class="event-card">
                    <div class="event-title">è—ç‹ç‹ç‹¸æ‘</div>
                    <div class="event-details">èˆ‡å¯æ„›çš„ç‹ç‹¸è¿‘è·é›¢æ¥è§¸ã€‚è«‹æ³¨æ„éš¨èº«ç‰©å“ã€‚</div>
                </div>
                <div class="transport-card">
                    <span class="time-tag">1hr 54min</span> | <span class="cost-tag">ETC Â¥1,510</span>
                </div>
                <div class="event-card">
                    <div class="event-title">éŠ€å±±æº«æ³‰</div>
                    <div class="event-details">æ¼«æ­¥æ–¼å¤§æ­£æµªæ¼«é¢¨æƒ…çš„æº«æ³‰è¡—ï¼Œå½·å½¿é€²å…¥ç¥éš±å°‘å¥³å ´æ™¯ã€‚</div>
                </div>
                <div class="transport-card">
                    <span class="time-tag">1hr 7min</span> | <span class="cost-tag">ETC Â¥620</span>
                </div>
                <div class="event-card">
                    <div class="event-title">æŠµé”å±±å½¢å¸‚å€ä½å®¿</div>
                </div>
            </div>
        </div>

        <div class="day-content" id="day3">
            <div class="timeline">
                <div class="event-card">
                    <div class="event-title">å±±å½¢å¸‚å€å‡ºç™¼</div>
                </div>
                <div class="transport-card">
                    <span class="time-tag">49min</span> | <span class="cost-tag">ETC Â¥600</span>
                </div>
                <div class="event-card">
                    <div class="event-title">è—ç‹é€£å³°ä¸€æ—¥éŠ (è‡ªé§•æ®µ)</div>
                    <div class="event-details">
                        <span class="highlight-tag">è—ç‹å¾¡é‡œ</span>
                        <span class="highlight-tag">åˆˆç”°å¶ºç¥ç¤¾</span>
                        <span class="highlight-tag">é›ªä¹‹è¿´å»Š(å­£ç¯€é™å®š)</span>
                    </div>
                </div>
                <div class="transport-card">
                    <span class="time-tag">29min</span>
                </div>
                <div class="event-card">
                    <div class="event-title">è—ç‹çºœè»Š</div>
                    <div class="event-details">æ­ä¹˜çºœè»Šæ¬£è³é«˜ç©ºç¾æ™¯ (ç´„17åˆ†é˜)ã€‚</div>
                </div>
                <div class="transport-card">
                    <span class="time-tag">2hr 34min</span> | <span class="cost-tag">ETC Â¥960</span>
                </div>
                <div class="event-card">
                    <div class="event-title">æŠµé”æ©«æ‰‹ä½å®¿</div>
                </div>
            </div>
        </div>

        <div class="day-content" id="day4">
            <div class="timeline">
                <div class="event-card">
                    <div class="event-title">æ©«æ‰‹å‡ºç™¼</div>
                </div>
                <div class="transport-card"><span class="time-tag">51min</span></div>
                <div class="event-card">
                    <div class="event-title">è§’é¤¨æ­¦å®¶å±‹æ•·</div>
                    <div class="event-details">ç´ æœ‰ã€Œé™¸å¥§å°äº¬éƒ½ã€ä¹‹ç¨±ã€‚
                        <br>é‡é»ï¼šæ²³åŸç”°å®¶ã€å²©æ©‹å®¶ã€è§’é¤¨æ¨ºç´°å·¥ä¼æ‰¿é¤¨ã€é’æŸ³å®¶ã€çŸ³é»’å®¶ã€æªœæœ¨å…§å·å ¤å…¬åœ’ã€å®‰è—¤é‡€é€ ã€‚
                    </div>
                </div>
                <div class="transport-card"><span class="time-tag">26min</span></div>
                <div class="event-card">
                    <div class="event-title">ç”°æ¾¤æ¹–</div>
                    <div class="event-details">æ—¥æœ¬æœ€æ·±çš„æ¹–æ³Šï¼Œæ¬£è³è¾°å­åƒèˆ‡ç‰ç’ƒè‰²æ¹–æ°´ã€‚</div>
                </div>
                <div class="transport-card">
                    <span class="time-tag">2hr 19min</span> | <span class="cost-tag">ETC Â¥1,120</span>
                </div>
                <div class="event-card">
                    <div class="event-title">æŠµé”å¼˜å‰å¸‚å€ä½å®¿</div>
                </div>
            </div>
        </div>

        <div class="day-content" id="day5">
            <div class="timeline">
                <div class="event-card">
                    <div class="event-title">å¼˜å‰åŸ</div>
                    <div class="event-details">æ—¥æœ¬é‡è¦æ–‡åŒ–è²¡ï¼Œæ±åŒ—è³æ«»åå‹ã€‚</div>
                </div>
                <div class="transport-card">
                    <span class="time-tag">1hr</span> | <span class="cost-tag">ETC Â¥870</span>
                </div>
                <div class="event-card">
                    <div class="event-title">é’æ£®å¸‚å€è§€å…‰</div>
                    <div class="event-details">
                        <span class="highlight-tag">å»£ç”°ç¥ç¤¾</span><br>
                        <span class="highlight-tag">A-FACTORY</span> (è³¼è²·è˜‹æœä¼´æ‰‹ç¦®)<br>
                        <span class="highlight-tag">ç¡é­”ä¹‹å®¶ WAãƒ»RASSE</span> (é«”é©—ç¡é­”ç¥­å…¸æ–‡åŒ–)<br>
                        <span class="highlight-tag">é’æ£®ç¸£è§€å…‰ç‰©ç”¢é¤¨ ASPAM</span>
                    </div>
                </div>
                <div class="event-card">
                    <div class="event-title">é’æ£®å¸‚å€ä½å®¿</div>
                </div>
            </div>
        </div>

        <div class="day-content" id="day6">
            <div class="timeline">
                <div class="event-card">
                    <div class="event-title">é’æ£®å‡ºç™¼</div>
                </div>
                <div class="transport-card"><span class="time-tag">1hr 19min</span></div>
                <div class="event-card">
                    <div class="event-title">å¥§å…¥ç€¨æºªæµå¥è¡Œ</div>
                    <div class="event-details">
                        è·¯ç·šï¼šçŸ³ãƒ¶æˆ¸ä¼‘æ†©æ‰€ â†’ é˜¿ä¿®ç¾…ä¹‹æµ â†’ é›²äº•ç€‘å¸ƒ â†’ éŠšå­å¤§ç€‘å¸ƒ â†’ æ­¥è¡Œå›å­ä¹‹å£ã€‚äº«å—æ£®æ—èŠ¬å¤šç²¾ã€‚
                    </div>
                </div>
                <div class="transport-card"><span class="time-tag">10min</span></div>
                <div class="event-card">
                    <div class="event-title">åå’Œç”°æ¹–</div>
                    <div class="event-details">æ¬£è³é›™å±¤ç ´ç«å±±å£æ¹–çš„å£¯éº—æ™¯è‰²ã€‚</div>
                </div>
                <div class="transport-card"><span class="time-tag">55min</span></div>
                <div class="event-card">
                    <div class="event-title">æŠµé”åå’Œç”°å¸‚ä½å®¿</div>
                </div>
            </div>
        </div>

        <div class="day-content" id="day7">
            <div class="timeline">
                <div class="event-card">
                    <div class="event-title">åå’Œç”°å¸‚ç¾ä»£ç¾è¡“é¤¨</div>
                    <div class="event-details">æ¬£è³è‰é–“å½Œç”Ÿç­‰çŸ¥åè—è¡“å®¶çš„æˆ¶å¤–è£ç½®è—è¡“ã€‚</div>
                </div>
                <div class="transport-card"><span class="time-tag">1hr 5min</span></div>
                <div class="event-card">
                    <div class="event-title">è•ªå³¶ç¥ç¤¾</div>
                    <div class="event-details">ä½æ–¼å…«æˆ¶ï¼Œä»¥ç¥ˆæ±‚ç”Ÿæ„èˆˆéš†å’Œæ¼ç²è±æ”¶èåï¼Œä¹Ÿæ˜¯æµ·é·—ç¹æ®–åœ°ã€‚</div>
                </div>
                <div class="transport-card">
                    <span class="time-tag">3hr 55min</span> | <span class="cost-tag">ETC Â¥4,750</span>
                </div>
                <div class="event-card">
                    <div class="event-title">è¿”å›ä»™å°å¸‚å€ä½å®¿</div>
                </div>
            </div>
        </div>

        <div class="day-content" id="day8">
            <div class="timeline">
                <div class="event-card">
                    <div class="event-title">ä»™å°å¸‚å€æœ€å¾Œå·¡ç¦®</div>
                    <div class="event-details">
                        <span class="highlight-tag">å¤§å´å…«å¹¡å®®</span><br>
                        <span class="highlight-tag">ä»™å°åŸè·¡ (é’è‘‰åŸ)</span><br>
                        <span class="highlight-tag">é‡‘è›‡æ°´ç¥ç¤¾</span> (æ±‚è²¡é‹)<br>
                    </div>
                </div>
                <div class="event-card">
                    <div class="event-title">Aeon Mall åå–</div>
                    <div class="event-details">å‰å¾€æ©Ÿå ´å‰çš„æœ€å¾Œæ¡è³¼è¡åˆºã€‚</div>
                </div>
                <div class="transport-card">
                    <span class="time-tag">å‰å¾€æ©Ÿå ´</span>
                </div>
                <div class="event-card">
                    <div class="event-title">ä»™å°æ©Ÿå ´ (SDJ)</div>
                    <div class="event-details">è¾¦ç†ç™»æ©Ÿï¼Œå¹³å®‰è¿”å°ã€‚</div>
                </div>
            </div>
        </div>
    </main>

    <div class="fab-container" id="fabContainer">
        <button class="fab-main" id="fabMain">+</button>

        <button class="fab-item" onclick="openModal('highwayModal')">ğŸ›£ï¸<span class="fab-label">è·¯æ³è³‡è¨Š</span></button>
        <button class="fab-item" onclick="openModal('mapModal')">ğŸ—ºï¸<span class="fab-label">åœ°åœ–</span></button>
        <button class="fab-item" onclick="openModal('translateModal')">ğŸ—£ï¸<span class="fab-label">æ—¥èªç¿»è­¯</span></button>
        <button class="fab-item" onclick="openModal('expenseModal')">ğŸ“<span class="fab-label">è¨˜å¸³</span></button>
        <button class="fab-item" onclick="openModal('currencyModal')">ğŸ’´<span class="fab-label">åŒ¯ç‡è¨ˆç®—</span></button>
    </div>


    <div class="modal-overlay" id="currencyModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">åŒ¯ç‡è©¦ç®— (JPY â†’ TWD)</div>
                <button class="close-modal" onclick="closeModal('currencyModal')">Ã—</button>
            </div>
            <div class="input-group">
                <label>æ—¥å¹£é‡‘é¡ (Â¥)</label>
                <input type="number" id="jpyInput" placeholder="è¼¸å…¥æ—¥å¹£..." oninput="calculateCurrency()">
            </div>
            <div class="result-box">
                ç´„ NT$ <span id="twdOutput">0</span>
            </div>
            <p style="font-size: 0.8rem; color: #999; text-align: center;">*æ­¤ç‚ºåƒè€ƒåŒ¯ç‡ (ä»¥ 0.22 è¨ˆç®—)ï¼Œå¯¦éš›è«‹ä¾éŠ€è¡Œç‚ºæº–ã€‚</p>
        </div>
    </div>

    <div class="modal-overlay" id="expenseModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">ç°¡æ˜“è¨˜å¸³ (æ—¥å¹£)</div>
                <button class="close-modal" onclick="closeModal('expenseModal')">Ã—</button>
            </div>
            <div class="input-group">
                <input type="text" id="expenseItem" placeholder="é …ç›® (ä¾‹å¦‚: åˆé¤)" style="margin-bottom: 10px;">
                <input type="number" id="expenseCost" placeholder="é‡‘é¡ (Â¥)">
            </div>
            <button class="btn-primary" onclick="addExpense()">æ–°å¢ç´€éŒ„</button>

            <h4 style="margin-bottom: 10px; margin-top: 20px;">æ¶ˆè²»åˆ—è¡¨</h4>
            <div class="expense-list" id="expenseList">
            </div>
            <div class="total-expense">
                ç¸½è¨ˆ: Â¥ <span id="totalJPY">0</span><br>
                (ç´„ NT$ <span id="totalTWD">0</span>)
            </div>
            <button onclick="clearExpenses()"
                style="background:none; border:none; color: #e74c3c; width:100%; margin-top:15px; cursor: pointer;">æ¸…é™¤æ‰€æœ‰ç´€éŒ„</button>
        </div>
    </div>

    <div class="modal-overlay" id="translateModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">è‡ªé§•å¯¦ç”¨æ—¥èª</div>
                <button class="close-modal" onclick="closeModal('translateModal')">Ã—</button>
            </div>
            <ul class="phrase-list">
                <li><span>åŠ æ»¿æ²¹ (Regular)</span> <span class="phrase-jp">ãƒ¬ã‚®ãƒ¥ãƒ©ãƒ¼æº€ã‚¿ãƒ³ã§ (Regyura mantan de)</span></li>
                <li><span>è«‹çµ¦æˆ‘æ”¶æ“š</span> <span class="phrase-jp">é ˜åæ›¸ã‚’ãã ã•ã„ (Ryoshusho o kudasai)</span></li>
                <li><span>é€™è£¡å¯ä»¥åœè»Šå—?</span> <span class="phrase-jp">ã“ã“ã«é§è»Šã§ãã¾ã™ã‹ï¼Ÿ (Koko ni chusha dekimasu ka?)</span></li>
                <li><span>è«‹è¨­å®šå°èˆª</span> <span class="phrase-jp">ã‚«ãƒ¼ãƒŠãƒ“ã‚’è¨­å®šã—ã¦ãã ã•ã„ (Kanabi o settei shite kudasai)</span></li>
                <li><span>ä¸å¥½æ„æ€ (å•è·¯/é»é¤)</span> <span class="phrase-jp">ã™ã¿ã¾ã›ã‚“ (Sumimasen)</span></li>
                <li><span>è¬è¬</span> <span class="phrase-jp">ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ (Arigatou gozaimasu)</span></li>
            </ul>
        </div>
    </div>

    <div class="modal-overlay" id="mapModal">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <div class="modal-title">æ±åŒ—åœ°å€åœ°åœ–</div>
                <button class="close-modal" onclick="closeModal('mapModal')">Ã—</button>
            </div>
            <iframe class="map-frame"
                src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d1606827.972668753!2d140.882471!3d38.268215!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1szh-TW!2stw!4v1716360000000!5m2!1szh-TW!2stw"
                allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            <p style="font-size: 0.9rem; color: #666; margin-top: 10px;">*æ­¤ç‚ºæ¦‚ç•¥åœ°åœ–ï¼Œå¯¦éš›å°èˆªè«‹ä½¿ç”¨æ‰‹æ©Ÿ Google Maps App è¨­å®šç›®çš„åœ°ã€‚</p>
        </div>
    </div>

    <div class="modal-overlay" id="highwayModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">é«˜é€Ÿå…¬è·¯å°é™è³‡è¨Š</div>
                <button class="close-modal" onclick="closeModal('highwayModal')">Ã—</button>
            </div>
            <p>æ—¥æœ¬é«˜é€Ÿå…¬è·¯è·¯æ³è®Šå‹•å¿« (ç‰¹åˆ¥æ˜¯å±±å€æˆ–å¤©æ°£ä¸ä½³æ™‚)ã€‚è«‹å‹™å¿…åœ¨å‡ºç™¼å‰æŸ¥è©¢å®˜æ–¹å³æ™‚è³‡è¨Šã€‚</p>
            <p>é»æ“Šä¸‹æ–¹æŒ‰éˆ•å‰å¾€ NEXCO æ±æ—¥æœ¬å®˜æ–¹ç¶²ç«™æŸ¥è©¢ (äº¦æœ‰ç¹é«”ä¸­æ–‡ç‰ˆ)ï¼š</p>
            <a href="https://www.drivetraffic.jp/?area=02&lv=1" target="_blank" class="btn-primary"
                style="display: block; text-align: center; text-decoration: none; line-height: 20px;">å‰å¾€ NEXCO å³æ™‚è·¯æ³åœ–
                â†—</a>
            <p style="font-size: 0.8rem; color: #999; margin-top: 15px;">*å»ºè­°æŸ¥çœ‹ã€Œé€šè¡Œæ­¢ã€(é“è·¯å°é–‰) åŠã€Œãƒã‚§ãƒ¼ãƒ³è¦åˆ¶ã€(éœ€å®‰è£é›ªéˆ) è³‡è¨Šã€‚</p>
        </div>
    </div>


    <script>
        // 1. Date Navigation Logic
        const days = [
            { id: 'day1', date: '4/30', title: 'D1 ä»™å°æŠµé”' },
            { id: 'day2', date: '5/1', title: 'D2 è—ç‹éŠ€å±±' },
            { id: 'day3', date: '5/2', title: 'D3 è—ç‹é€£å³°' },
            { id: 'day4', date: '5/3', title: 'D4 è§’é¤¨ç”°æ¾¤æ¹–' },
            { id: 'day5', date: '5/4', title: 'D5 å¼˜å‰é’æ£®' },
            { id: 'day6', date: '5/5', title: 'D6 å¥§å…¥ç€¨' },
            { id: 'day7', date: '5/6', title: 'D7 åå’Œç”°' },
            { id: 'day8', date: '5/7', title: 'D8 ä»™å°è¿”ç¨‹' },
        ];

        const dateNav = document.getElementById('dateNav');
        const dayContents = document.querySelectorAll('.day-content');

        days.forEach((day, index) => {
            const button = document.createElement('button');
            button.className = `date-tab ${index === 0 ? 'active' : ''}`;
            button.innerHTML = `<strong>${day.date}</strong><br><span style="font-size:0.8rem">${day.title.split(' ')[1]}</span>`;
            button.onclick = () => switchDay(index);
            dateNav.appendChild(button);
        });

        function switchDay(index) {
            document.querySelectorAll('.date-tab').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.date-tab')[index].classList.add('active');

            dayContents.forEach(content => content.classList.remove('active'));
            dayContents[index].classList.add('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // 2. FAB & Modal Logic
        const fabMain = document.getElementById('fabMain');
        const fabContainer = document.getElementById('fabContainer');
        const modals = document.querySelectorAll('.modal-overlay');

        fabMain.addEventListener('click', () => {
            fabContainer.classList.toggle('open');
            fabMain.classList.toggle('active');
        });

        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'flex';
            fabContainer.classList.remove('open');
            fabMain.classList.remove('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Close modal when clicking outside
        modals.forEach(modal => {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.style.display = 'none';
                }
            });
        });


        // 3. Currency Converter Logic (Demo Rate)
        const EXCHANGE_RATE = 0.22; // å‡å®šåŒ¯ç‡
        function calculateCurrency() {
            const jpy = document.getElementById('jpyInput').value;
            const twd = (jpy * EXCHANGE_RATE).toFixed(0);
            document.getElementById('twdOutput').innerText = twd;
        }

        // 4. Expense Tracker Logic (using localStorage)
        let expenses = JSON.parse(localStorage.getItem('tripExpenses')) || [];
        renderExpenses();

        function addExpense() {
            const itemStr = document.getElementById('expenseItem').value;
            const costNum = parseFloat(document.getElementById('expenseCost').value);

            if (itemStr && costNum) {
                expenses.push({ item: itemStr, cost: costNum });
                localStorage.setItem('tripExpenses', JSON.stringify(expenses));
                renderExpenses();
                // Clear inputs
                document.getElementById('expenseItem').value = '';
                document.getElementById('expenseCost').value = '';
            } else {
                alert('è«‹è¼¸å…¥é …ç›®å’Œé‡‘é¡');
            }
        }

        function renderExpenses() {
            const list = document.getElementById('expenseList');
            list.innerHTML = '';
            let total = 0;
            expenses.forEach((exp, index) => {
                total += exp.cost;
                list.innerHTML += `
                <div class="expense-item">
                    <span>${exp.item}</span>
                    <span>Â¥${exp.cost} <span style="color:#999; cursor:pointer;" onclick="removeExpense(${index})">Ã—</span></span>
                </div>
            `;
            });
            document.getElementById('totalJPY').innerText = total;
            document.getElementById('totalTWD').innerText = (total * EXCHANGE_RATE).toFixed(0);
        }

        function removeExpense(index) {
            expenses.splice(index, 1);
            localStorage.setItem('tripExpenses', JSON.stringify(expenses));
            renderExpenses();
        }

        function clearExpenses() {
            if (confirm('ç¢ºå®šè¦æ¸…é™¤æ‰€æœ‰è¨˜å¸³ç´€éŒ„å—ï¼Ÿ')) {
                expenses = [];
                localStorage.removeItem('tripExpenses');
                renderExpenses();
            }
        }
    </script>

</body>

</html>